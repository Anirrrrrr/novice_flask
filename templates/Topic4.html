<!DOCTYPE html>
<html>
<head>
    <title>Topics</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="static\css\topic1_st.css">
    <link rel="icon" href="static/img/logo.png">
</head>
<body>

    <header>
        <div class="menu">
            <div class="burger-menu" onclick="toggleMenu()">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <div class="logo">
                <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo">
                <span>NOVICE</span>
            </div>
            <nav>
                <div class="menu-items">
                    <ul>
                        <li class="lang-en"><a href="{{ url_for('home') }}">Home</a></li>
                        <li class="lang-en"><a href="{{ url_for('Topics') }}">Topics</a></li>
                        <li class="lang-en"><a href="{{ url_for('blog') }}">Blog</a></li>
                        <li class="lang-en"><a href="{{ url_for('about') }}">About</a></li>
                        <li class="lang-fr" style="display: none;"><a href="{{ url_for('home') }}">Accueil</a></li>
                        <li class="lang-fr" style="display: none;"><a href="{{ url_for('Topics') }}">Les sujets</a></li>
                        <li class="lang-fr" style="display: none;"><a href="{{ url_for('blog') }}">Blog</a></li>
                        <li class="lang-fr" style="display: none;"><a href="{{ url_for('about') }}">À propos</a></li>
                        <li class="additional-text">
                            <a>Designed by Yelyzaveta Migulina<br>
                            <br>
                            Developed by Kateryna Astafieva<br>
                            <br>
                            &#9400;2023 Novice, Inc.
                            </a>
                        </li>
                    </ul>
                </div>
                        {% if 'email' in session %}
                        <div class="buttons-container">
                            <div class="special3" id="userIconMenu">
                                <a href="{{ url_for('profile') }}">
                                    <div class="user-icon"><div class="user-initial">{{ session['email'][0] | upper }}</div></div>
                                </a>
                                <div class="user-dropdown-menu" id="userDropdown", style="display: none;">
                                    <div class="user-info">
                                        <div class="user-details">
                                            <span>{{ session['email'] }}</span>
                                        </div>
                                        <div class="user-actions">
                                            <a class="lang-en" href="{{ url_for('profile') }}">Edit profile</a>
                                            <a class="lang-fr"style="display: none;" href="{{ url_for('profile') }}">Modifier le profil</a>
                                            <a class="lang-en" href="{{ url_for('logout') }}">Log out</a>
                                            <a class="lang-fr" style="display: none;"href="{{ url_for('logout') }}">Déconnexion</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% else %}
                        <div class="buttons-container">
                            <div class="login-btn"><a href="{{ url_for('login') }}" class="special">Log in</a></div>
                            <div class="signup-btn"><a href="{{ url_for('register') }}" class="special2">Sign up</a></div>
                        </div>
                        {% endif %}
                        <div class="languages-container">
                            <a class="lang_en" onclick="changeLanguage('en')">en</a>
                            <a class="lang_fr" onclick="changeLanguage('fr')">fr</a>
                            </div>
            </nav>
        </div>
</header>

<center><h1>The Design Phase</h1></center>
<div class="text">
    <br>   The design phase consists of determining how the system should be developed. Both the data and the processing must be designed. Designing the data means deciding how the data should be stored and determining such things as whether or not to use a database. It includes defining security measures and setting up backup procedures (maintaining duplicate copies of data). Designing the processing means breaking the problem down into parts that can be handled by a single program. The design of a system might result in a program to input and validate data, another program to handle updating the data, and still other programs to produce reports.
    <br>   Data design starts with defining every single field, or sub-field, that will appear in the file or database. A length and type must be specified for each field, and minimum and maximum values are sometimes needed. [For example, the number of dependents field could be defined as a numeric, two character field with a minimum value of zero and a maximum value of 25 (or whatever the designers decided).] Grouping fields together, and building a relationship between groups is also part of data design. In fact, this is a critical part of data design. Computer programs retrieve data from disk storage by groups, not by individual fields. Therefore a database with a lot of small groups is probably poorly designed because each program will have to execute too many I/O (Input/Output) operations.
    <br>   Process design is designing the work the system will do, and designers use graphic tools for this work. The most popular design tool is a flowchart. A flowchart is similar to an architect's blueprint, and uses symbols and diagrams to describe the processing to be done in the system. Other graphic tools are bubble charts and data flow diagrams. Again, there are CASE tools available that automate some of the design activities. The result of the design step is a diagram of the entire system, and written specifications (program specs) for each program. A program spec contains a description of the input data, the output data (including designs of all reports and/or terminal screens), and the processing steps required to get from the existing input to the desired output.
    <br>   These specs can be formal, typed, multi-page documents, or can be a simple note: "See Ms. Jones in Personnel. She needs a new report." A programmer receives the program specs and the amount of detail will be as extensive as necessary for the experience and skills of the specific programmer. Some companies split the responsibilities for analysis and design and have system designers on staff. Most do not, however, and analysts continue with the design phase. There are usually more people involved in the design phase than there were involved in analysis, and Senior Programmer, Senior Programmer/Analyst, Software Engineer, Project Leader and Team Leader are all common titles for people who perform this function. Design, not programming, is actually the solution to the IT project, and changes to any system must be done on the design level before new programming is attempted. The importance of design cannot be overstressed. Even if a poorly designed system works, it will never work well.
</div>
{% if 'email' in session %}
<div class="bb" data-topic="The Design Phase">
    <button class="like-button" onclick="likeTopic('The Design Phase')">&#10084; Like</button>
    <button class="unlike-button" onclick="unlikeTopic('The Design Phase')">Unlike</button>
{% endif %}
<div class="proposal"><center> <p>If you do not know the meaning of some words you can use <a href="{{ url_for('novice') }}">our dictionary</a>.</p></center></div>
<div class="test">
    <p class="task"> Ex. 1. Answer the questions</p>
    <ol>
        <li>What does the design phase consist of?</li>
        <li>What does designing the data mean?</li>
        <li>What does designing the processing presuppose?</li>
        <li>What should design of a system result in?</li>
        <li>What does data design start with?</li>
        <li>What is a field in data design?</li>
        <li>hat characteristics of fields should be specified?</li>    
        <li>Why is building a relationship between fields critical?</li>
        <li>What tools do designers use for process design?</li>
        <li>What is the result of the design step?</li> 
        <li>What does a program spec contain?</li>
        <li>Who is involved in the design phase?</li>
        
    </ol>

 <p class="task"> Ex 2. Fill in the blanks with one of the following words.</p>
 <p>
    1. The design phase consists of determining how the system should be
    <select id="blank1">
            <option value="" disabled selected hidden></option>
            <option value="designed">designed</option>
            <option value="look">look</option>
          <option value="function">function</option>
          <option value="operate">operate</option>
    </select>
    <span id="result1"></span> 
</p>
<p>
    2. Designing the
    <select id="blank2">
            <option value="" disabled selected hidden></option>
            <option value="interface">interface</option>
           <option value="data">data</option>
           <option value="structure">structure</option>
           <option value="information">information</option>
    </select>
    <span id="result2"></span>means deciding how the data should 
    <select id="blank3">
        <option value="" disabled selected hidden></option>
        <option value="operate">operate</option>
        <option value="be stored">be stored</option>
        <option value="appear">appear</option>
        <option value="flow">flow</option>
</select>
<span id="result3"></span>and determining such things as whether or not to use a database. 
</p>
<p>
    3. Designing the data includes defining security
    <select id="blank4">
            <option value="" disabled selected hidden></option>
            <option value="measures">measures</option>
           <option value="specifications"></option>
           <option value="features">features</option>
           <option value="protocols">protocols</option>
    </select>
    <span id="result4"></span> and backup procedures (maintaining duplicate
    <select id="blank5">
        <option value="" disabled selected hidden></option>
        <option value="instances">instances</option>
       <option value="copies">copies</option>
        <option value="reproductions">reproductions</option>
        <option value="versions">versions</option>
</select>
<span id="result5"></span>of data).
</p>
<p>
    4. Designing the processing means
    <select id="blank6">
            <option value="" disabled selected hidden></option>
            <option value="breaking">breaking</option>
            <option value="segmenting">segmenting</option>
        <option value="dividing">dividing</option>
        <option value="analyzing">analyzing</option>
    </select>
    <span id="result6"></span>the problem down into parts that can by a single program. 
</p>
<p>
    5. The design of a system might result in a program to input and validate data, another program to handle
    <select id="blank7">
            <option value="" disabled selected hidden></option>
            <option value="updating">updating</option>
            <option value="processing">processing</option>
            <option value="organizing">organizing</option>
    </select>
    <span id="result7"></span> the data, and still other programs to produce reports.

</p>
<p>
    6. Data design starts with
    <select id="blank8">
        <option value="" disabled selected hidden></option>
        <option value="identifying">identifying</option>
        <option value="specifying">specifying</option>
        <option value="naming">naming</option>
       <option value="defining">defining</option>
</select>
<span id="result8"></span> every single field, or
<select id="blank9">
    <option value="" disabled selected hidden></option>
    <option value="component">component</option>
   <option value="segment">segment</option>
   <option value="sub-field">sub-field</option>
   <option value="attribute">attribute</option>
</select>
<span id="result9"></span>that will appear in the file or database.
</p>
<p>
    7. A length and type must
    <select id="blank10">
        <option value="" disabled selected hidden></option>
        <option value="be specified">be specified</option>
        <option value="be defined">be defined</option>
        <option value="be determined">be determined</option>
        <option value="be established">be established</option>
    </select>
    <span id="result10"></span>for each field, and minimum and maximum
    <select id="blank11">
        <option value="" disabled selected hidden></option>
        <option value="values">values</option>
        <option value="ranges">ranges</option>
        <option value="boundaries">boundaries</option>
        <option value="thresholds">thresholds</option>
</select>
<span id="result11"></span> are sometimes needed.
</p>
<p>
    8.
    <select id="blank12">
            <option value="" disabled selected hidden></option>
            <option value="Grouping">Grouping</option>
        <option value="Combining">Combining</option>
        <option value="Organizing">Organizing</option>
    </select>
    <span id="result12"></span> fields together, and building a relationship between groups is also part of data design.
</p>
<p>
    9.Computer programs
    <select id="blank13">
            <option value="" disabled selected hidden></option>
            <option value="access">access</option>
            <option value="retrieve">retrieve</option>
            <option value="fetch">fetch</option>
        <option value="extract">extract</option>
    </select>
    <span id="result13"></span>data from disk storage by groups, not by individual fields. 
</p>
<p>
    10.A database with a lot of small groups probably poorly 
    <select id="blank14">
            <option value="" disabled selected hidden></option>
            <option value="constructed">constructed</option>
        <option value="organized">organized</option>
        <option value="arranged">arranged</option>
           <option value="designed">designed</option>
    </select>
    <span id="result14"></span>because each program will have to execute too many I/O (
    <select id="blank15">
        <option value="" disabled selected hidden></option>
        <option value="Input">Input</option>
        <option value="Transfer">Transfer</option>
        <option value="Operation">Operation</option>
</select>
<span id="result15"></span>/Output) operations.
</p>
<p>
    11.
    <select id="blank16">
            <option value="" disabled selected hidden></option>
            <option value="Process">Process</option>
            <option value="Processing">Processing</option>
            <option value="Execution">Execution</option>
            <option value="Implementation">Implementation</option>
    </select>
    <span id="result16"></span>design is designing the work the system will do, and designers use graphic
    <select id="blank17">
        <option value="" disabled selected hidden></option>
        <option value="instruments">instruments</option>
        <option value="utensils">utensils</option>
       <option value="tools">tools</option>
       <option value="devices">devices</option>
</select>
<span id="result17"></span>this work.
</p>
<p>
    12. A flowchart is similar to an architect's blueprint, and uses symbols and diagrams to describe the
    <select id="blank18">
            <option value="" disabled selected hidden></option>
            <option value="steps">steps</option>
            <option value="actions">actions</option>
           <option value="processing">processing</option>
           <option value="procedures">procedures</option>
    </select>
    <span id="result18"></span>to be done in the system.
</p>
<p>
    13. Other graphic tools are bubble
    <select id="blank19">
            <option value="" disabled selected hidden></option>
            <option value="graphs">graphs</option>
        <option value="plots">plots</option>
        <option value="maps">maps</option>
           <option value="charts">charts</option>
    </select>
    <span id="result19"></span>and data flow
    <select id="blank20">
        <option value="" disabled selected hidden></option>
        <option value="diagrams">diagrams</option>
        <option value="charts">charts</option>
        <option value="schematics">schematics</option>
        <option value="representations">representations</option>
</select>
<span id="result20"></span>.
</p>
<p>
    14. There are
    <select id="blank21">
            <option value="" disabled selected hidden></option>
            <option value="automated">automated</option>
        <option value="digital">digital</option>
        <option value="electronic">electronic</option>
           <option value="CASE">CASE</option>
    </select>
    <span id="result21"></span>tools available that automate some of the design activities.
</p>
<p>
    15. The result of the design step is a diagram of the entire system, and written
    <select id="blank22">
            <option value="" disabled selected hidden></option>
            <option value="directions">directions</option>
            <option value="instructions">instructions</option>
           <option value="specifications">specifications</option>
           <option value="guidelines">guidelines</option>
            </select>
    <span id="result22"></span>(
        <select id="blank23">
            <option value="" disabled selected hidden></option>
            <option value="coding">coding</option>
            <option value="script">script</option>
           <option value="program">program</option>
           <option value="algorithm">algorithm</option>
    </select>
    <span id="result23"></span>specs) for each program.
</p>
<p>
    16. A program spec contains a description of the input data, the
    <select id="blank24">
            <option value="" disabled selected hidden></option>
            <option value="output">output</option>
            <option value="generated">generated</option>
            <option value="produced">produced</option>
    </select>
    <span id="result24"></span>data (including designs of all reports and/or terminal screens), and the processing steps required to get from the existing input to the
    <select id="blank25">
        <option value="" disabled selected hidden></option>
        <option value="intended">intended</option>
        <option value="expected">expected</option>
        <option value="anticipated">anticipated</option>
       <option value="desired">desired</option>
</select>
<span id="result25"></span>output.
</p>
<p>
    17. If companies do not split the responsibilities for analysis and
    <select id="blank26">
            <option value="" disabled selected hidden></option>
            <option value="design">design</option>
            <option value="planning">planning</option>
            <option value="creation">creation</option>
            <option value="development">development</option>
    </select>
    <span id="result26"></span>, analysts continue with the design phase.
</p>
</div>
<div id="resultContainer"></div>
<div class="test2">
<p class="task"> Ex 3. Match the terms with their definitions</p>
    <div class="container">
        <center><p>Terms</p></center>
        <div class="terms-container" id="termsContainer">
            <div id="termA" class="term" draggable="true" ondragstart="drag(event)">The design phase </div>
            <div id="termC" class="term" draggable="true" ondragstart="drag(event)">The design of a system</div>
            <div id="termD" class="term" draggable="true" ondragstart="drag(event)">A critical part of data design </div>
            <div id="termE" class="term" draggable="true" ondragstart="drag(event)">A program spec</div>
            <div id="termF" class="term" draggable="true" ondragstart="drag(event)">A flowchart</div>
            <div id="termG" class="term" draggable="true" ondragstart="drag(event)">Designing the processing </div>
            <div id="termB" class="term" draggable="true" ondragstart="drag(event)">Designing the data</div>

        </div>
        <center><p>Definitions</p></center>
        <div class="definitions-container" id="definitionsContainer" ondrop="drop(event)" ondragover="allowDrop(event)">
            <div id="definitionD" class="definition" droppable="true" data-term="termD">defining every single field, or sub-field, that will appear in the file or database, grouping fields together, and building a relationship between groups.</div>
            <div id="definitionE" class="definition" droppable="true" data-term="termE">contains a description of the input data, the output data (including designs of all reports and/or terminal screens), and the processing steps required to get from the existing input to the desired output.</div>
            <div id="definitionC" class="definition" droppable="true" data-term="termC">a program to input and validate data, another program to handle updating the data, and still other programs to produce reports.</div>
            <div id="definitionG" class="definition" droppable="true" data-term="termG">breaking the problem down into parts that can be handled by a single program.</div>
            <div id="definitionB" class="definition" droppable="true" data-term="termB">deciding how the data should be stored and determining such things as whether or not to use a database. It includes defining security measures and setting up backup procedures (maintaining duplicate copies of data).</div>
            <div id="definitionF" class="definition" droppable="true" data-term="termF">is similar to an architect's blueprint, and uses symbols and diagrams to describe the processing to be done in the system.</div>
            <div id="definitionA" class="definition" droppable="true" data-term="termA">consists of determining how the system should be developed.</div>
        </div> 
        <div id="result" class="result"></div>
        <div id="score"></div>
        <button class="submit-btn" onclick="checkAllAnswers()" >Submit</button>
      
        <div id="score"></div>

    </div>
</div>




<div class="notification-container" id="notificationContainer" style="display: none;">
    <div class="notification" id="notification">
        <span class="close-btn" onclick="closeNotification()">×</span>
        <p id="notificationText">Please <a href="{{ url_for('login') }}">log in </a>or <a href="{{ url_for('register') }}">register</a> to check answers.</p>
        <div class="progress-bar" id="progressBar"></div>
    </div>
</div>



<div id="liked-topics-container" style="display: none;"></div>
<button onclick="topFunction()" id="toTopBtn" title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" fill="none">
    <circle cx="25" cy="25" r="25" fill="#D9D9D9" fill-opacity="0.7"/>
    <line x1="25.4151" y1="13.9151" x2="36.9151" y2="33.8336" stroke="#D9D9D9" stroke-width="5" stroke-linecap="round"/>
    <line x1="14.0849" y1="33.8337" x2="25.5849" y2="13.9151" stroke="#D9D9D9" stroke-width="5" stroke-linecap="round"/></svg>
</button>
<div class="element-before-footer "></div>
<footer>
    <div class="footer-column">
        <div class="first">
        <img src="static/img/logo.png" alt="Logo"> NOVICE<br>

            <div class="auth"><p class="lang-en">Designed by Yelyzaveta Migulina <br>
                <br>
                Developed by Kateryna Astafieva<br>
                <br>
                &copy; 2023 Novice, Inc.</p>
                <p class="lang-fr" style="display: none;">Conçu par Yelyzaveta Migulin<br>
                    <br>
                    Développé par Kateryna Astafieva<br>
                    <br>
                    &copy; 2023 Novice, Inc.</p>
            </div>
        </div>
    </div>
    <div class="footer-column">
        <center><ul>
            <li class="lang-en"><a href="{{ url_for('home') }}">Home</a></li>
            <li class="lang-en"><a href="{{ url_for('Topics') }}">Topics</a></li>
            <li class="lang-en"><a href="{{ url_for('blog') }}">Blog</a></li>
            <li class="lang-en"><a href="{{ url_for('about') }}">About</a></li>
            <li class="lang-fr"style="display: none;" ><a href="{{ url_for('home') }}">Accueil</a></li>
            <li class="lang-fr" style="display: none;"><a href="{{ url_for('Topics') }}">Les sujets</a></li>
            <li class="lang-fr" style="display: none;"><a href="{{ url_for('blog') }}">Blog</a></li>
            <li class="lang-fr" style="display: none;"><a href="{{ url_for('about') }}">À propos</a></li>
        </ul></center>
    </div>
    <div class="footer-column">
        <div class="contact">
            <div>Contacts</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
            <path d="M14.1667 10.4167C13.125 10.4167 12.125 10.25 11.1917 9.94167C10.9 9.85 10.575 9.91667 10.3417 10.1417L8.50833 11.975C6.15 10.775 4.21667 8.85 3.01667 6.48333L4.85 4.64167C5.08333 4.425 5.15 4.1 5.05833 3.80833C4.75 2.875 4.58333 1.875 4.58333 0.833333C4.58333 0.375 4.20833 0 3.75 0H0.833333C0.375 0 0 0.375 0 0.833333C0 8.65833 6.34167 15 14.1667 15C14.625 15 15 14.625 15 14.1667V11.25C15 10.7917 14.625 10.4167 14.1667 10.4167ZM13.3333 7.5H15C15 3.35833 11.6417 0 7.5 0V1.66667C10.725 1.66667 13.3333 4.275 13.3333 7.5ZM10 7.5H11.6667C11.6667 5.2 9.8 3.33333 7.5 3.33333V5C8.88333 5 10 6.11667 10 7.5Z" fill="white"/>
          </svg> +380 88 888 88 88<br></div>
          <div><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
            <path d="M7.5 0C3.36 0 0 3.36 0 7.5C0 11.64 3.36 15 7.5 15H11.25V13.5H7.5C4.245 13.5 1.5 10.755 1.5 7.5C1.5 4.245 4.245 1.5 7.5 1.5C10.755 1.5 13.5 4.245 13.5 7.5V8.5725C13.5 9.165 12.9675 9.75 12.375 9.75C11.7825 9.75 11.25 9.165 11.25 8.5725V7.5C11.25 5.43 9.57 3.75 7.5 3.75C5.43 3.75 3.75 5.43 3.75 7.5C3.75 9.57 5.43 11.25 7.5 11.25C8.535 11.25 9.48 10.83 10.155 10.1475C10.6425 10.815 11.4825 11.25 12.375 11.25C13.8525 11.25 15 10.05 15 8.5725V7.5C15 3.36 11.64 0 7.5 0ZM7.5 9.75C6.255 9.75 5.25 8.745 5.25 7.5C5.25 6.255 6.255 5.25 7.5 5.25C8.745 5.25 9.75 6.255 9.75 7.5C9.75 8.745 8.745 9.75 7.5 9.75Z" fill="white"/>
          </svg> kbvkdebkje@gmail.com</div>
        </div>
    </div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', function () {
    // Загрузка состояния лайков при загрузке страницы
    fetch('/get_liked_topics', {
        method: 'GET',
        credentials: 'same-origin',
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Обновляем интерфейс с учетом текущего состояния для каждой темы
            data.liked_topics.forEach(topicName => {
                updateLikeButton(topicName, true);
            });
        } else {
            console.error('Failed to get liked topics:', data.message);
        }
    })
    .catch(error => {
        console.error('Error while getting liked topics:', error);
    });

    // Назначаем обработчик события для кнопки лайка
    var likeButtons = document.querySelectorAll('.like-button');

    likeButtons.forEach(function (likeButton) {
        likeButton.addEventListener('click', function () {
            // Извлекаем значение data-topic с использованием parentNode
            var topicButtonsContainer = likeButton.parentNode;
            var topicName = topicButtonsContainer.getAttribute('data-topic');
            likeTopic(topicName);
        });
    });

    // Проверяем localStorage при загрузке страницы и обновляем состояние кнопок
    likeButtons.forEach(function (likeButton) {
        var topicButtonsContainer = likeButton.parentNode;
        
        if (topicButtonsContainer) {
            var topicName = topicButtonsContainer.getAttribute('data-topic');
            var likeState = localStorage.getItem(`likeState_${topicName}`);

            if (likeState === 'liked') {
                likeButton.style.display = 'none';
                likeButton.nextElementSibling.style.display = 'block';
            } else if (likeState === 'unliked') {
                likeButton.style.display = 'block';
                likeButton.nextElementSibling.style.display = 'none';
            }
        } else {
            console.error('Parent element with data-topic not found.');
        }
    });
});


function likeTopic(topicName) {
    console.log(`Liking topic: ${topicName}`);
    sendLikeRequest(topicName, true);
}

function unlikeTopic(topicName) {
    console.log(`Unliking topic: ${topicName}`);
    sendLikeRequest(topicName, false);
}

function sendLikeRequest(topicName, liked) {
    fetch(`/like_topic/${encodeURIComponent(topicName)}`, {
        method: 'POST',
        credentials: 'same-origin',
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            console.log(`${liked ? 'Like' : 'Unlike'} successful for topic: ${topicName}`);
            // Обновляем интерфейс с учетом текущего состояния для каждой темы
            updateLikeButtons(topicName, liked);
            // Добавляем или удаляем тему из отображаемого списка лайкнутых тем
            updateLikedTopicsContainer(topicName, liked);
            // Сохраняем состояние лайка в localStorage
            localStorage.setItem(`likeState_${topicName}`, liked ? 'liked' : 'unliked');
        } else {
            console.error(`Failed to process ${liked ? 'like' : 'unlike'} for topic ${topicName}: ${data.message}`);
        }
    })
    .catch(error => {
        console.error(`Error while processing ${liked ? 'like' : 'unlike'} for topic ${topicName}: ${error}`);
    });
}

function updateLikeButtons(topicName, liked) {
    // Находим элемент с нужным data-topic
    var likeButtonsContainer = document.querySelector(`[data-topic="${topicName}"]`);

    if (likeButtonsContainer) {
        // Находим кнопки внутри контейнера
        var likeButton = likeButtonsContainer.querySelector('.like-button');
        var unlikeButton = likeButtonsContainer.querySelector('.unlike-button');

        if (liked) {
            likeButton.style.display = 'none';
            unlikeButton.style.display = 'block';
        } else {
            likeButton.style.display = 'block';
            unlikeButton.style.display = 'none';
        }
    } else {
        console.error(`Element with data-topic "${topicName}" not found.`);
    }
}

function updateLikedTopicsContainer(topicName, liked) {
    var likedTopicsContainer = document.getElementById('liked-topics-container');
    var topicElement = likedTopicsContainer.querySelector(`[data-topic="${topicName}"]`);

    if (liked) {
        if (!topicElement) {
            topicElement = document.createElement('div');
            topicElement.textContent = topicName;
            topicElement.setAttribute('data-topic', topicName);
            likedTopicsContainer.appendChild(topicElement);
        }
    } else {
        if (topicElement) {
            likedTopicsContainer.removeChild(topicElement);
        }
    }
}

// Проверяем localStorage при загрузке страницы и обновляем состояние кнопок
document.addEventListener('DOMContentLoaded', function () {
    var likeButtons = document.querySelectorAll('.like-button');

    likeButtons.forEach(function (likeButton) {
        var topicName = likeButton.closest('.like-buttons').dataset.topic;
        var likeState = localStorage.getItem(`likeState_${topicName}`);

        if (likeState === 'liked') {
            likeButton.style.display = 'none';
            likeButton.nextElementSibling.style.display = 'block';
        } else if (likeState === 'unliked') {
            likeButton.style.display = 'block';
            likeButton.nextElementSibling.style.display = 'none';
        }
    });
});



var correctCount = 0;

function checkAllAnswers() {
    checkAuthenticationStatus().then(function(isAuthenticated) {
        if (isAuthenticated) { 
            correctCount = 0;
            checkAnswers1();
            checkAnswers2();
            document.getElementById("resultContainer").innerHTML = `Correct Answers: ${correctCount}`;
        } else {
            // Если пользователь не аутентифицирован, покажем уведомление
            showNotification("Please log in to check answers.");
        }
    });
}


function showNotification(message) {
    var notificationContainer = document.getElementById("notificationContainer");
        var notification = document.getElementById("notification");
        var notificationText = document.getElementById("notificationText");
        var progressBar = document.getElementById("progressBar");

        notificationContainer.style.display = "block";

        // Можно изменить текст уведомления по вашему усмотрению


        // Устанавливаем время отображения уведомления в миллисекундах (в данном случае, 30 секунд)
        var displayTime = 10000;

        // Устанавливаем интервал обновления полосы прогресса
        var interval = 100; // каждые 100 миллисекунд

        var progress = 0;

        // Обновляем полосу прогресса каждые interval миллисекунд
        var progressInterval = setInterval(function() {
            progress += (interval / displayTime) * 100;
            progressBar.style.width = progress + "%";

            // Когда полоса прогресса достигнет 100%, закрываем уведомление
            if (progress >= 100) {
                closeNotification();
                clearInterval(progressInterval); // Останавливаем интервал
            }
        }, interval);
    }



function closeNotification() {
    var notificationContainer = document.getElementById("notificationContainer");
        notificationContainer.style.display = "none";
    }

function checkAuthenticationStatus() {
    // Отправка запроса на сервер для проверки статуса аутентификации
    return fetch("/check-auth", {
        method: "GET",
        credentials: "include",
    })
    .then(response => response.json())
    .then(data => data.isAuthenticated)
    .catch(error => {
        console.error("Error checking authentication status:", error);
        return false;
    });
} 
var correctCount = 0;
function checkAllAnswers() {
    correctCount = 0;
    checkAnswers1();
    checkAnswers2();
    document.getElementById("resultContainer").innerHTML = `Correct Answers: ${correctCount}`;
}

function checkAnswers1() {
    // Список правильных ответов
    const correctAnswers = [
       "designed",
       "data",
       "be stored",
       "specifications",
       "copies",
       "breaking",
       "updating",
       "defining",
       "sub-field",
       "be specified",
       "values",
       "Grouping",
       "retrieve",
       "designed",
       "Input",
       "Process",
       "tools",
       "processing",
       "charts",
       "diagrams",
       "CASE",
       "specifications",
       "program",
       "output",
       "desired",
       "design"
    ];

   
    let correctCount = 0;

    for (let i = 1; i <= 26; i++) {
        const selectedValue = document.getElementById(`blank${i}`).value;
        const resultSpan = document.getElementById(`result${i}`);

        if (selectedValue === correctAnswers[i - 1]) {
            resultSpan.textContent = " ✓";
            resultSpan.style.color = "green";
            correctCount++;
        } else {
            resultSpan.textContent = " ✗";
            resultSpan.style.color = "red";
        }
    }

    const resultContainer = document.getElementById("resultContainer");
    resultContainer.textContent = `Number of correct answers: ${correctCount}`;
}

function allowDrop(event) {
            event.preventDefault();
        }

        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }

        function drop(event) {
            event.preventDefault();
            var data = event.dataTransfer.getData("text");
            var draggedElement = document.getElementById(data);

            if (event.target.classList.contains("definition")) {
                var dropTarget = event.target;
                dropTarget.appendChild(draggedElement);

                // Проверка на корректность соединения
                if (draggedElement.dataset.term === dropTarget.dataset.term) {
                    dropTarget.classList.add("correct");
                    if (!dropTarget.classList.contains("counted")) {
                        correctCount++;
                        dropTarget.classList.add("counted");
                    }
                }
            }
        }

    function checkAnswers2() {
        var correctAnswers = document.querySelectorAll(".definition");
        var correctCount = 0;

        correctAnswers.forEach(function (answer) {
            var termElement = answer.querySelector(".term");
            if (termElement) {
                if (answer.dataset.term === termElement.id) {
                    answer.classList.add("correct");
                    if (!answer.classList.contains("counted")) {
                        correctCount++;
                        answer.classList.add("counted");
                    }
                } else {
                    answer.classList.add("incorrect");
                }
            }
        });

        document.getElementById("score").innerHTML = "Correct Answers: " + correctCount;
    }



    function changeLanguage(lang) {
        var langElements = document.querySelectorAll('.lang-' + lang);
        var otherLang = (lang === 'en') ? 'fr' : 'en';
        var otherLangElements = document.querySelectorAll('.lang-' + otherLang);

        langElements.forEach(function (element) {
            element.style.display = 'inline';
        });

        otherLangElements.forEach(function (element) {
            element.style.display = 'none';
        });

        // Сохраняем выбранный язык в localStorage
        localStorage.setItem('preferredLanguage', lang);
    }

    // Проверяем localStorage при загрузке страницы
    document.addEventListener('DOMContentLoaded', function () {
        var preferredLanguage = localStorage.getItem('preferredLanguage') || 'en';
        changeLanguage(preferredLanguage);
    });








            function toggleMenu() {
                const menu = document.querySelector('.burger-menu');
                menu.classList.toggle('close');
            }
            
                    document.addEventListener('DOMContentLoaded', function() {
                        const burgerMenu = document.querySelector('.burger-menu');
                        const nav = document.querySelector('nav');
                
                        burgerMenu.addEventListener('click', () => {
                            nav.classList.toggle('active');
                        });
                    });
            
            document.addEventListener('DOMContentLoaded', function() {
                const userIcon = document.getElementById('userIconMenu');
                const userDropdown = document.getElementById('userDropdown');
            
                userIcon.addEventListener('mouseover', () => {
                    userDropdown.style.display = 'block';
                });
            
                userIcon.addEventListener('mouseout', () => {
                    userDropdown.addEventListener('mouseover', () => {
                        userDropdown.style.display = 'block';
                    });
            
                    userDropdown.addEventListener('mouseout', () => {
                        userDropdown.style.display = 'none';
                    });
            
                    userDropdown.style.display = 'none';
                });
            });
               
           
            function topFunction() {
                    document.body.scrollTop = 0;
                    document.documentElement.scrollTop = 0;
                }
            
                // Получаем кнопку "наверх"
                var toTopButton = document.getElementById('toTopBtn');
            
                // Получаем футер
                var footer = document.querySelector('footer');
            
                // Функция, которая будет проверять положение при прокрутке
                function handleScroll() {
                    var scrollPosition = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;
            
            
                    if ((scrollPosition + window.innerHeight) >= footer.offsetTop) {
                        toTopButton.style.bottom = (scrollPosition + window.innerHeight - footer.offsetTop) + 'px';
                    } else {
                        toTopButton.style.bottom = '20px';
                    }
                }
                window.addEventListener('scroll', handleScroll);
</script>
</body>
</html>